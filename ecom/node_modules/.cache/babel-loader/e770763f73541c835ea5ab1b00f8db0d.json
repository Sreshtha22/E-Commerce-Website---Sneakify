{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sresh\\\\OneDrive\\\\Desktop\\\\ecom\\\\src\\\\components\\\\account\\\\SignInForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { compose } from \"redux\";\nimport { Link } from \"react-router-dom\";\nimport renderFormGroupField from \"../../helpers/renderFormGroupField\";\nimport { required, maxLength20, minLength8 } from \"../../helpers/validation\";\nimport { getSignin } from \"../../api.js\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialValues = {\n  email: '',\n  password: ''\n};\n\nconst SignInForm = props => {\n  _s();\n\n  const [signin, setSignin] = useState(initialValues);\n  const [isError, setIsError] = useState(false);\n  const [isFailed, setIsFailed] = useState(false);\n  const navigate = useNavigate();\n\n  const usegetCustRecord = async (email, password) => {\n    try {\n      const response = await getSignin(email);\n\n      if (response && response.email === email && response.password === password) {\n        const responseData = response;\n        setSignin(responseData);\n        localStorage.setItem(\"data\", responseData.email);\n        navigate('/', {\n          replace: true\n        });\n        window.location.reload();\n      } else {\n        setIsError(true);\n        setTimeout(() => {\n          setIsError(false);\n          props.reset();\n        }, 2000);\n      }\n    } catch (error) {\n      console.error(\"Error while fetching data:\", error);\n      setIsFailed(true);\n      setTimeout(() => {\n        setIsError(false);\n        props.reset();\n      }, 2000);\n    }\n  };\n\n  const onValueChange = e => {\n    setSignin({ ...signin,\n      [e.target.name]: e.target.value\n    });\n    console.log(signin);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    usegetCustRecord(signin.email, signin.password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Field, {\n      name: \"email\",\n      label: \"Email\",\n      type: \"email\",\n      title: \"Please enter your valid email address\",\n      component: renderFormGroupField,\n      placeholder: \"Enter valid email address\",\n      validate: [required],\n      required: true,\n      pattern: \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\",\n      className: \"mb-3\",\n      onChange: e => onValueChange(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Field, {\n      name: \"password\",\n      type: \"password\",\n      label: \"Password\",\n      title: \"Please enter your password\" // pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}\"\n      ,\n      component: renderFormGroupField,\n      placeholder: \"Enter your password\",\n      validate: [required, maxLength20, minLength8],\n      required: true,\n      maxLength: \"20\",\n      minLength: \"8\",\n      className: \"mb-3\",\n      onChange: e => onValueChange(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), isError && /*#__PURE__*/_jsxDEV(\"h6\", {\n      className: \"text-center text-danger\",\n      children: \"Invalid Email or Password!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-grid\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-dark mb-3\",\n        style: {\n          background: \"black\",\n          borderColor: \"black\"\n        },\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"float-start\",\n      to: \"/account/signup\",\n      title: \"Sign Up\",\n      style: {\n        color: \"black\"\n      },\n      children: \"Create account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"float-end\",\n      to: \"/account/forgotpassword\",\n      title: \"Forgot Password\",\n      style: {\n        color: \"black\"\n      },\n      children: \"Forgot Password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clearfix\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignInForm, \"gQX92ztMxB02W4+BoRvRxnuYvzw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignInForm;\nexport default compose(reduxForm({\n  form: \"signin\"\n}))(SignInForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["React","useState","Field","reduxForm","compose","Link","renderFormGroupField","required","maxLength20","minLength8","getSignin","useNavigate","initialValues","email","password","SignInForm","props","signin","setSignin","isError","setIsError","isFailed","setIsFailed","navigate","usegetCustRecord","response","responseData","localStorage","setItem","replace","window","location","reload","setTimeout","reset","error","console","onValueChange","e","target","name","value","log","handleSubmit","preventDefault","background","borderColor","color","form"],"sources":["C:/Users/sresh/OneDrive/Desktop/ecom/src/components/account/SignInForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { compose } from \"redux\";\nimport { Link } from \"react-router-dom\";\nimport renderFormGroupField from \"../../helpers/renderFormGroupField\";\nimport { required, maxLength20, minLength8 } from \"../../helpers/validation\";\nimport { getSignin } from \"../../api.js\";\nimport { useNavigate } from 'react-router-dom';\nconst initialValues = {\n  email: '',\n  password: '',\n}\nconst SignInForm = (props) => {\n  const [signin, setSignin] = useState(initialValues)\n  const [isError, setIsError] = useState(false);\n  const [isFailed, setIsFailed] = useState(false);\n  const navigate = useNavigate();\n\n  const usegetCustRecord = async (email, password) => {\n    try {\n      const response = await getSignin(email);\n      if (response && response.email === email && response.password === password) {\n        const responseData = response;\n        setSignin(responseData); \n        localStorage.setItem(\"data\", responseData.email);\n        navigate('/', { replace: true });\n        window.location.reload();\n      } else {\n        setIsError(true);\n        setTimeout(() => {\n          setIsError(false);\n          props.reset();\n        }, 2000);\n      }\n    } catch (error) {\n      console.error(\"Error while fetching data:\", error);\n      setIsFailed(true);\n      setTimeout(() => {\n        setIsError(false);\n        props.reset();\n      }, 2000);\n    }\n  }\n  const onValueChange = (e) => {\n    setSignin({ ...signin, [e.target.name]: e.target.value })\n    console.log(signin)\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    usegetCustRecord(signin.email, signin.password);\n  }\n  return (\n    <form onSubmit={handleSubmit}>\n      <Field\n        name=\"email\"\n        label=\"Email\"\n        type=\"email\"\n        title=\"Please enter your valid email address\"\n        component={renderFormGroupField}\n        placeholder=\"Enter valid email address\"\n        validate={[required]}\n        required={true}\n        pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n        className=\"mb-3\"\n        onChange={(e) => onValueChange(e)}\n      />\n      <Field\n        name=\"password\"\n        type=\"password\"\n        label=\"Password\"\n        title=\"Please enter your password\"\n        // pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}\"\n        component={renderFormGroupField}\n        placeholder=\"Enter your password\"\n        validate={[required, maxLength20, minLength8]}\n        required={true}\n        maxLength=\"20\"\n        minLength=\"8\"\n        className=\"mb-3\"\n        onChange={(e) => onValueChange(e)}\n      />\n      <br />\n      {isError && <h6 className=\"text-center text-danger\">Invalid Email or Password!</h6>}\n      <div className=\"d-grid\">\n        <button\n          type=\"submit\"\n          className=\"btn btn-dark mb-3\"\n          style={{ background: \"black\", borderColor: \"black\" }}\n        >\n          Sign In\n        </button>\n      </div>\n      <Link className=\"float-start\" to=\"/account/signup\" title=\"Sign Up\" style={{ color: \"black\" }}>\n        Create account\n      </Link>\n      <Link className=\"float-end\" to=\"/account/forgotpassword\" title=\"Forgot Password\" style={{ color: \"black\" }}>\n        Forgot Password?\n      </Link>\n      <div className=\"clearfix\"></div>\n      <div className=\"row\"></div>\n    </form>\n  );\n};\nexport default compose(reduxForm({ form: \"signin\" }))(SignInForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}